<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1061px" preserveAspectRatio="none" style="width:1142px;height:1061px;background:#FFFFFF;" version="1.1" viewBox="0 0 1142 1061" width="1142px" zoomAndPan="magnify"><defs><filter height="300%" id="fudddjldlxdz0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="528" x="305" y="30.6855">RingCentral App Add-In Framework Local Developement Workflow</text><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="370.0625"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="403.5" y="209.3047"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="403.5" y="339.7109"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="141.7578" style="stroke:#000000;stroke-width:2.0;" width="938" x="10" y="143.25"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="918" x="20" y="168.6016"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="299.0078"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="452.7656"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="321.8672" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="636.875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="126.25" y2="975.7422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="408.5" x2="408.5" y1="126.25" y2="975.7422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="820" x2="820" y1="126.25" y2="975.7422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="995" x2="995" y1="126.25" y2="975.7422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1090" x2="1090" y1="126.25" y2="975.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="30" y="123.1738">Database</text><path d="M45.5,72.6406 C45.5,62.6406 63.5,62.6406 63.5,62.6406 C63.5,62.6406 81.5,62.6406 81.5,72.6406 L81.5,98.6406 C81.5,108.6406 63.5,108.6406 63.5,108.6406 C63.5,108.6406 45.5,108.6406 45.5,98.6406 L45.5,72.6406 " fill="#FEFECE" filter="url(#fudddjldlxdz0)" style="stroke:#000000;stroke-width:1.5;"/><path d="M45.5,72.6406 C45.5,82.6406 63.5,82.6406 63.5,82.6406 C63.5,82.6406 81.5,82.6406 81.5,72.6406 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="30" y="989.2754">Database</text><path d="M45.5,1002.3516 C45.5,992.3516 63.5,992.3516 63.5,992.3516 C63.5,992.3516 81.5,992.3516 81.5,1002.3516 L81.5,1028.3516 C81.5,1038.3516 63.5,1038.3516 63.5,1038.3516 C63.5,1038.3516 45.5,1038.3516 45.5,1028.3516 L45.5,1002.3516 " fill="#FEFECE" filter="url(#fudddjldlxdz0)" style="stroke:#000000;stroke-width:1.5;"/><path d="M45.5,1002.3516 C45.5,1012.3516 63.5,1012.3516 63.5,1012.3516 C63.5,1012.3516 81.5,1012.3516 81.5,1002.3516 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="384.5" y="123.1738">Server</text><ellipse cx="408.5" cy="92.6406" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="404.5,80.6406,410.5,75.6406,408.5,80.6406,410.5,85.6406,404.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="384.5" y="989.2754">Server</text><ellipse cx="408.5" cy="1008.3516" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="404.5,996.3516,410.5,991.3516,408.5,996.3516,410.5,1001.3516,404.5,996.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="713" y="123.1738">RingCentral Notification App Tool</text><ellipse cx="820.5" cy="92.6406" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="816.5,80.6406,822.5,75.6406,820.5,80.6406,822.5,85.6406,816.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="713" y="989.2754">RingCentral Notification App Tool</text><ellipse cx="820.5" cy="1008.3516" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="816.5,996.3516,822.5,991.3516,820.5,996.3516,822.5,1001.3516,816.5,996.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="938" y="123.1738">3rd Party Service</text><ellipse cx="995.5" cy="92.6406" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="991.5,80.6406,997.5,75.6406,995.5,80.6406,997.5,85.6406,991.5,80.6406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="938" y="989.2754">3rd Party Service</text><ellipse cx="995.5" cy="1008.3516" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="991.5,996.3516,997.5,991.3516,995.5,996.3516,997.5,1001.3516,991.5,996.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1063" y="123.1738">RC App</text><ellipse cx="1090.5" cy="51.6406" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1090.5,59.6406 L1090.5,86.6406 M1077.5,67.6406 L1103.5,67.6406 M1090.5,86.6406 L1077.5,101.6406 M1090.5,86.6406 L1103.5,101.6406 " fill="none" filter="url(#fudddjldlxdz0)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1063" y="989.2754">RC App</text><ellipse cx="1090.5" cy="1002.3516" fill="#FEFECE" filter="url(#fudddjldlxdz0)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M1090.5,1010.3516 L1090.5,1037.3516 M1077.5,1018.3516 L1103.5,1018.3516 M1090.5,1037.3516 L1077.5,1052.3516 M1090.5,1037.3516 L1103.5,1052.3516 " fill="none" filter="url(#fudddjldlxdz0)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="370.0625"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="403.5" y="209.3047"/><rect fill="#FFFFFF" filter="url(#fudddjldlxdz0)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="403.5" y="339.7109"/><path d="M10,143.25 L89,143.25 L89,151.25 L79,161.25 L10,161.25 L10,143.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="141.7578" style="stroke:#000000;stroke-width:2.0;" width="938" x="10" y="143.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="34" x="25" y="157.7451">setup</text><path d="M20,168.6016 L210,168.6016 L210,176.6016 L200,186.6016 L20,186.6016 L20,168.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="109.4063" style="stroke:#000000;stroke-width:2.0;" width="918" x="20" y="168.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="35" y="183.0967">register RC_WEBHOOK</text><polygon fill="#A80036" points="424.5,205.3047,414.5,209.3047,424.5,213.3047,420.5,209.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="418.5" x2="819.5" y1="209.3047" y2="209.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="430.5" y="204.4482">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="441.5" y="204.4482">fill in 'App Url' and 'Webhook Url', and Apply</text><ellipse cx="820" cy="238.9063" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="803,235.6563,813,239.6563,803,243.6563,807,239.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="413.5" x2="809" y1="239.6563" y2="239.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="420.5" y="234.7998">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372" x="431.5" y="234.7998">copy SERVER_WEBHOOK(has subscriptionId) over to 3rd party</text><ellipse cx="63" cy="269.2578" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="80,266.0078,70,270.0078,80,274.0078,76,270.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="78" x2="407.5" y1="270.0078" y2="270.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="80.5" y="265.1514">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305" x="91.5" y="265.1514">save subscriptionId and RC_WEBHOOK to database</text><path d="M20,299.0078 L157,299.0078 L157,307.0078 L147,317.0078 L20,317.0078 L20,299.0078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="299.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="35" y="313.5029">transformation</text><polygon fill="#A80036" points="424.5,335.7109,414.5,339.7109,424.5,343.7109,420.5,339.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="418.5" x2="994.5" y1="339.7109" y2="339.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="430.5" y="334.8545">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="441.5" y="334.8545">notification to SERVER_WEBHOOK</text><polygon fill="#A80036" points="79.5,366.0625,69.5,370.0625,79.5,374.0625,75.5,370.0625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="73.5" x2="402.5" y1="370.0625" y2="370.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="85.5" y="365.2061">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="96.5" y="365.2061">query subscription id</text><polygon fill="#A80036" points="391.5,396.4141,401.5,400.4141,391.5,404.4141,395.5,400.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="397.5" y1="400.4141" y2="400.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="70.5" y="395.5576">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="81.5" y="395.5576">return RC_WEBHOOK</text><ellipse cx="1090" cy="430.0156" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1073,426.7656,1083,430.7656,1073,434.7656,1077,430.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="1079" y1="430.7656" y2="430.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="415.5" y="425.9092">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="426.5" y="425.9092">transform notification message and send to RC_WEBHOOK</text><path d="M20,452.7656 L306,452.7656 L306,460.7656 L296,470.7656 L20,470.7656 L20,452.7656 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="452.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="241" x="35" y="467.2607">interactive message - for KNOWN user</text><polygon fill="#A80036" points="419.5,489.4688,409.5,493.4688,419.5,497.4688,415.5,493.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="413.5" x2="1089.5" y1="493.4688" y2="493.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="425.5" y="488.6123">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="436.5" y="488.6123">request to perform action with RC_USER_ID</text><polygon fill="#A80036" points="74.5,519.8203,64.5,523.8203,74.5,527.8203,70.5,523.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="407.5" y1="523.8203" y2="523.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="80.5" y="518.9639">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="91.5" y="518.9639">get user</text><polygon fill="#A80036" points="396.5,550.1719,406.5,554.1719,396.5,558.1719,400.5,554.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="402.5" y1="554.1719" y2="554.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="549.3154">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="88.5" y="549.3154">known, return accessToken</text><polygon fill="#A80036" points="983.5,580.5234,993.5,584.5234,983.5,588.5234,987.5,584.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="989.5" y1="584.5234" y2="584.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="579.667">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="433.5" y="579.667">perform action</text><polygon fill="#A80036" points="1078.5,610.875,1088.5,614.875,1078.5,618.875,1082.5,614.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="1084.5" y1="614.875" y2="614.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="610.0186">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="433.5" y="610.0186">notify user about the result</text><path d="M20,636.875 L324,636.875 L324,644.875 L314,654.875 L20,654.875 L20,636.875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="321.8672" style="stroke:#000000;stroke-width:2.0;" width="1108" x="20" y="636.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="259" x="35" y="651.3701">interactive message - for UNKNOWN user</text><polygon fill="#A80036" points="419.5,673.5781,409.5,677.5781,419.5,681.5781,415.5,677.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="413.5" x2="1089.5" y1="677.5781" y2="677.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="425.5" y="672.7217">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="443.5" y="672.7217">request to perform action with RC_USER_ID</text><polygon fill="#A80036" points="74.5,703.9297,64.5,707.9297,74.5,711.9297,70.5,707.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="407.5" y1="707.9297" y2="707.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="703.0732">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="98.5" y="703.0732">get user</text><polygon fill="#A80036" points="396.5,734.2813,406.5,738.2813,396.5,742.2813,400.5,738.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="402.5" y1="738.2813" y2="738.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="733.4248">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="88.5" y="733.4248">unknown</text><polygon fill="#A80036" points="1078.5,764.6328,1088.5,768.6328,1078.5,772.6328,1082.5,768.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="1084.5" y1="768.6328" y2="768.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="763.7764">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="433.5" y="763.7764">prompt for auth</text><polygon fill="#A80036" points="419.5,794.9844,409.5,798.9844,419.5,802.9844,415.5,798.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="413.5" x2="1089.5" y1="798.9844" y2="798.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="425.5" y="794.1279">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="443.5" y="794.1279">retun accessCode for token exchange</text><polygon fill="#A80036" points="983.5,825.3359,993.5,829.3359,983.5,833.3359,987.5,829.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="989.5" y1="829.3359" y2="829.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="824.4795">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="433.5" y="824.4795">token exchange</text><polygon fill="#A80036" points="419.5,855.6875,409.5,859.6875,419.5,863.6875,415.5,859.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="413.5" x2="994.5" y1="859.6875" y2="859.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="425.5" y="854.8311">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="443.5" y="854.8311">token</text><polygon fill="#A80036" points="74.5,886.0391,64.5,890.0391,74.5,894.0391,70.5,890.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="68.5" x2="407.5" y1="890.0391" y2="890.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="80.5" y="885.1826">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="98.5" y="885.1826">register user info</text><polygon fill="#A80036" points="983.5,916.3906,993.5,920.3906,983.5,924.3906,987.5,920.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="989.5" y1="920.3906" y2="920.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="915.5342">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="433.5" y="915.5342">perform action</text><polygon fill="#A80036" points="1078.5,946.7422,1088.5,950.7422,1078.5,954.7422,1082.5,950.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="408.5" x2="1084.5" y1="950.7422" y2="950.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415.5" y="945.8857">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="433.5" y="945.8857">notify user about the result</text><!--MD5=[d0aeeaf3065729164f2cfa30d6d9cd03]
@startuml

title RingCentral App Add-In Framework Local Developement Workflow

autonumber

Database "Database" as DB
control "Server" as SERVER
control "RingCentral Notification App Tool" as G
control "3rd Party Service" as T
actor "RC App" as RC

group setup

    group register RC_WEBHOOK
    G -> SERVER: fill in 'App Url' and 'Webhook Url', and Apply
    activate SERVER
    SERVER - ->o G: copy SERVER_WEBHOOK(has subscriptionId) over to 3rd party
    SERVER - ->o DB: save subscriptionId and RC_WEBHOOK to database
    deactivate SERVER
    end
end

group transformation
    T -> SERVER: notification to SERVER_WEBHOOK
    activate SERVER
    SERVER -> DB: query subscription id
    activate DB
    DB - -> SERVER: return RC_WEBHOOK
    deactivate DB
    SERVER - ->o RC: transform notification message and send to RC_WEBHOOK
    deactivate SERVER
end

group interactive message - for KNOWN user
    RC -> SERVER: request to perform action with RC_USER_ID
    SERVER - -> DB: get user
    DB - -> SERVER: known, return accessToken
    SERVER - -> T: perform action
    SERVER - -> RC: notify user about the result
end

group interactive message - for UNKNOWN user
    RC -> SERVER: request to perform action with RC_USER_ID
    SERVER - -> DB: get user
    DB - -> SERVER: unknown
    SERVER - -> RC: prompt for auth
    RC - -> SERVER: retun accessCode for token exchange
    SERVER - -> T: token exchange
    T - -> SERVER: token
    SERVER - -> DB: register user info
    SERVER - -> T: perform action
    SERVER - -> RC: notify user about the result
end

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>